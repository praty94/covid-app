(this["webpackJsonpcovid-app"]=this["webpackJsonpcovid-app"]||[]).push([[0],{141:function(e,t,a){e.exports=a(263)},146:function(e,t,a){},263:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),i=(a(146),a(37)),s=a(38),u=a(44),l=a(43),p=a(22),d=a(301),m=a(305),h=a(306),f=a(307),v=a(35),b=a.n(v),y=a(84),g=a(121),w=a.n(g),O=a(39),E=a.n(O),j=function(e){var t=null;return t=e.data.value?r.a.createElement(w.a,{start:0,end:e.data.value,duration:1,separator:","}):0===e.data.value?0:"...",r.a.createElement(d.a,{className:E()(b.a.root,b.a[e.data.type])},r.a.createElement(m.a,{className:b.a.textCenter},r.a.createElement("img",{alt:e.data.type,src:e.data.img,className:b.a.media}),r.a.createElement(h.a,null,r.a.createElement(f.a,{variant:"h4"},r.a.createElement("b",null," ",t)),r.a.createElement(f.a,{gutterBottom:!0,variant:"h5",component:"h2"},y[e.data.type].heading),r.a.createElement(f.a,{variant:"body2",color:"textSecondary",component:"p"},y[e.data.type].subHeading))))},x=a(308),k=a(93),C=a.n(k),_=a(94),F=a.n(_),S=a(95),N=a.n(S),D=function(e){var t=Object(p.a)({},e.data.confirmed,{img:C.a,type:"confirmed"}),a=Object(p.a)({},e.data.recovered,{img:N.a,type:"recovered"}),n=Object(p.a)({},e.data.deaths,{img:F.a,type:"deaths"});return r.a.createElement(x.a,{className:b.a.grid},r.a.createElement(j,{data:t}),r.a.createElement(j,{data:a}),r.a.createElement(j,{data:n}))},T=a(7),H=a.n(T),I=a(12),L=a(21),A=a(54),R=a.n(A),z="https://covid19.mathdro.id/api",B=function(){var e=Object(I.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get(z);case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.error("[fetchData] Failed");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(I.a)(H.a.mark((function e(t){var a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get(z+"/countries"+t);case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error("[fetchCountrySummary] Failed");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(I.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get(z+"/countries");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.error("[fetchCountries] Failed");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(I.a)(H.a.mark((function e(){var t,a,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get(z+"/daily");case 3:return t=e.sent,a=t.data,n=a.map((function(e){return{confirmed:e.confirmed.total,deaths:e.deaths.total,date:e.reportDate}})),e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0),console.error("[fetchDaily] Failed");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),J=(a(125),a(41)),V=a.n(J),Y=function(e){return r.a.createElement("div",{className:e.className},e.children)},G=a(67),U=a.n(G),q=function(e,t,a){var n;return function(){var r=this,o=arguments,c=function(){n=null,a||e.apply(r,o)},i=a&&!n;clearTimeout(n),n=setTimeout(c,t),i&&e.apply(r,o)}};function K(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}function Z(){var e=Object(n.useState)(K()),t=Object(L.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){console.log("window resized"),r(K())}return window.addEventListener("resize",q(e,200)),function(){return window.removeEventListener("resize",e)}}),[]),a}var $=function(e){var t={chart:{id:"basic-bar"},legend:{show:!0,labels:{colors:["#368bf6","#eb5569"],useSeriesColors:!1},itemMargin:{vertical:10}},dataLabels:{enabled:!1},stroke:{curve:"straight"},colors:["#368bf6","#eb5569"],xaxis:{categories:e.dates},yaxis:{}};return"light"!==e.theme?(t.xaxis.labels={style:{colors:"#FFFFFF"}},t.yaxis.labels={style:{colors:"#FFFFFF"}}):(t.xaxis.labels={style:{colors:"#373d3f"}},t.yaxis.labels={style:{colors:"#373d3f"}}),t.tooltip={theme:e.theme},t},Q=.95,X=.85,ee=function(e){var t=Z(),a=t.height,o=t.width,c=Object(n.useState)({}),i=Object(L.a)(c,2),s=i[0],u=i[1];Object(n.useEffect)((function(){(function(){var t=Object(I.a)(H.a.mark((function t(){var a,n,r,o,c,i;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s&&s.options&&s.series)){t.next=7;break}a=Object(p.a)({},s),n=$({dates:a.dates,theme:e.curTheme}),a.options=n,u({dates:a.dates,options:a.options,series:a.series}),t.next=14;break;case 7:return t.next=9,P();case 9:r=t.sent,o=r.map((function(e){return e.date})),c=$({dates:o,theme:e.curTheme}),i=[{name:"Confirmed",data:r.map((function(e){return e.confirmed}))},{name:"Deaths",data:r.map((function(e){return e.deaths}))}],u({dates:o,options:c,series:i});case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.curTheme]);var l=s&&s.options&&s.series?r.a.createElement(U.a,{options:s.options,series:s.series,type:"area",width:o<768?o*Q:o*X,height:.6*a}):"";return r.a.createElement(Y,{className:V.a.container},l)},te=a(34),ae=a(313),ne=a(314),re=a(310),oe=a(312),ce=a(9),ie=a(130),se=a.n(ie),ue=a(131),le=a.n(ue),pe=a(316),de=a(317),me=a(311),he=function(e){var t=r.a.useState(!1),a=Object(L.a)(t,2),n=a[0],o=a[1],c=r.a.useState([]),i=Object(L.a)(c,2),s=i[0],u=i[1],l=n&&0===s.length;return r.a.useEffect((function(){var e=!0;if(l)return Object(I.a)(H.a.mark((function t(){var a,n;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M();case 2:a=t.sent,n=a.countries,e&&u(n);case 5:case"end":return t.stop()}}),t)})))(),function(){e=!1}}),[l]),r.a.createElement(de.a,{id:"asynchronous-demo",style:{width:300},size:"small",open:n,onOpen:function(){o(!0)},onClose:function(){o(!1)},value:e.country,onChange:function(t,a){return e.routerHelper(a)},getOptionSelected:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e.name},options:s,loading:l,renderInput:function(e){return r.a.createElement(pe.a,Object.assign({},e,{label:"Select Country",variant:"outlined",color:"secondary",InputProps:Object(p.a)({},e.InputProps,{endAdornment:r.a.createElement(r.a.Fragment,null,l?r.a.createElement(me.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})},fe=a(129),ve=a.n(fe),be=Object(oe.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(te.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(te.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ce.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ce.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchDark:Object(te.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ce.c)(e.palette.common.black,.15),"&:hover":{backgroundColor:Object(ce.c)(e.palette.common.black,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(te.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function ye(e){var t=be();return r.a.createElement("div",{className:t.root},r.a.createElement(ae.a,{position:"fixed"},r.a.createElement(ne.a,null,r.a.createElement(re.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"open drawer"},r.a.createElement(ve.a,null)),r.a.createElement(f.a,{className:t.title,variant:"h6",noWrap:!0},"Covid-19 Tracker"),r.a.createElement(he,{country:e.country,routerHelper:e.routerHelper}),r.a.createElement(re.a,{edge:"end",className:t.menuButton,color:"inherit","aria-label":"Toggle Dark and Light mode",onClick:function(){return e.themeToggleHandler()}},"light"===e.curTheme?r.a.createElement(se.a,null):r.a.createElement(le.a,null)))))}var ge=a(31),we=a.n(ge),Oe=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={summary:{}},e}return Object(s.a)(a,[{key:"render",value:function(){var e="light"===this.props.theme?we.a.light:we.a.dark;return r.a.createElement(Y,{className:E()(we.a.container,e)},r.a.createElement(D,{data:this.state.summary}),r.a.createElement(ee,{curTheme:this.props.theme}))}},{key:"componentDidMount",value:function(){var e=Object(I.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:t=e.sent,this.setState({summary:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(r.a.Component),Ee=function(e){var t=Z(),a=t.height,o=t.width,c=Object(n.useState)({}),i=Object(L.a)(c,2),s=i[0],u=i[1];Object(n.useEffect)((function(){if(e.data&&e.data.confirmed){var t=Object(p.a)({},e.data),a=t.confirmed,n=t.recovered,r=t.deaths;u({series:[{name:"Covid-19 Cases",data:[a.value,n.value,r.value]}],options:{chart:{height:350,type:"bar",events:{click:function(e,t,a){}}},colors:["#368bf6","#00af80","#eb5569"],plotOptions:{bar:{columnWidth:"45%",distributed:!0}},dataLabels:{enabled:!1},legend:{show:!1},xaxis:{categories:[["Confirmed"],["Recovered"],["Deaths"]],labels:{style:{colors:["#368bf6","#00af80","#eb5569"],fontSize:"12px"}}}}})}}),[e.curTheme,e.data]);var l=s&&s.options&&s.series?r.a.createElement(U.a,{options:s.options,series:s.series,type:"bar",width:o<768?o:.85*o,height:.6*a}):"";return r.a.createElement(Y,{className:V.a.container},l)},je=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={summary:{},country:null},e.getCountrySummary=Object(I.a)(H.a.mark((function t(){var a,n;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.country.match("^/covid-app/country/")){t.next=7;break}return a=(a=e.props.country).replace("/covid-app/country",""),t.next=5,W(a);case 5:n=t.sent,e.setState({summary:n,country:e.props.country});case 7:case"end":return t.stop()}}),t)}))),e}return Object(s.a)(a,[{key:"render",value:function(){var e="light"===this.props.theme?we.a.light:we.a.dark;return r.a.createElement(Y,{className:E()(we.a.container,e)},r.a.createElement(D,{data:this.state.summary}),r.a.createElement(Ee,{data:this.state.summary}))}},{key:"shouldComponentUpdate",value:function(e,t){var a=e.country!==this.props.country||t.country!==this.state.country,n=e.theme!==this.props.theme;return a||n}},{key:"componentDidUpdate",value:function(){var e=Object(I.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.country===this.props.country){e.next=3;break}return e.next=3,this.getCountrySummary();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(I.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCountrySummary();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(r.a.Component),xe=a(315),ke=a(133),Ce=function(e){return"light"===e?Object(ke.a)({palette:{primary:{main:"#FFFFFF"},secondary:{main:"#368bf6"},type:"light"}}):Object(ke.a)({palette:{primary:{main:"#333"},secondary:{main:"#368bf6"},type:"dark"}})},_e=a(24),Fe=function(e){return e.match("^/covid-app/country/")?e:null},Se=function(e){return e&&e.match("^/covid-app/country/")?e.replace("/covid-app/country/",""):null},Ne=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={theme:"light",country:Fe(e.props.location.pathname)},e.toggleTheme=function(){"light"===e.state.theme?e.setState({theme:"dark"}):e.setState({theme:"light"})},e.routerHelper=function(t){if(t){e.setState({country:"/covid-app/country/".concat(t.name)});var a=e.props.history;t?a.push("/covid-app/country/".concat(t.name)):a.push("/covid-app")}},e.getCountryForSearch=function(){return{name:Se(e.state.country)}},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(xe.a,{theme:Ce(this.state.theme)},r.a.createElement(ye,{country:this.getCountryForSearch(),curTheme:this.state.theme,themeToggleHandler:function(){return e.toggleTheme()},routerHelper:function(t){return e.routerHelper(t)}}),r.a.createElement(_e.c,null,r.a.createElement(_e.a,{path:"/covid-app/country/*"},r.a.createElement(je,{theme:this.state.theme,country:this.state.country})),r.a.createElement(_e.a,null,r.a.createElement(Oe,{theme:this.state.theme}))))}}]),a}(r.a.Component),De=Object(_e.f)(Ne);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Te=a(83);c.a.render(r.a.createElement(Te.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(De,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},31:function(e,t,a){e.exports={container:"App_container__3nRKY",dark:"App_dark__2RHWN",light:"App_light__1YEDc"}},35:function(e,t,a){e.exports={root:"Cards_root__AIwn0",confirmed:"Cards_confirmed__1S-9n",recovered:"Cards_recovered__3kq5D",deaths:"Cards_deaths__1eD8I",media:"Cards_media__1Lp0D",textCenter:"Cards_textCenter__AF1Sm",grid:"Cards_grid__1DNkZ"}},41:function(e,t,a){e.exports={container:"Charts_container__mmPiY"}},84:function(e){e.exports=JSON.parse('{"confirmed":{"heading":"Confirmed Cases","subHeading":"Number of confirmed COVID-19 cases"},"recovered":{"heading":"Recovered Cases","subHeading":"Number of recoveries from COVID-19"},"deaths":{"heading":"Deaths","subHeading":"Number of deaths caused by COVID-19"}}')},93:function(e,t,a){e.exports=a.p+"static/media/confirmed.df488cb3.svg"},94:function(e,t,a){e.exports=a.p+"static/media/deaths.4e113c7e.svg"},95:function(e,t,a){e.exports=a.p+"static/media/recovered.011ed21c.svg"}},[[141,1,2]]]);
//# sourceMappingURL=main.7ff946c5.chunk.js.map